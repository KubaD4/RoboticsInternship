# Generated UP code from Prolog knowledge
# This code is automatically generated.
import unified_planning as up
import os
from unified_planning.shortcuts import *
from unified_planning.model import Variable, InstantaneousAction, Problem
from unified_planning.io import PDDLWriter
from unified_planning.model.operators import OperatorKind
from unified_planning.shortcuts import *
up.shortcuts.get_environment().credits_stream = None

Resources = UserType('resources')
Block = UserType('block')
Agent = UserType('agent')

Pos = UserType('pos')

on = Fluent('on', BoolType(), p0=Block, p1=Block)
at = Fluent('at', BoolType(), p0=Block, p1=Pos, p2=Pos)
moving_onblock_to_table = Fluent('moving_onblock_to_table', BoolType(), p0=Agent, p1=Block, p2=Pos, p3=Pos, p4=Pos, p5=Pos)
moving_table_to_table = Fluent('moving_table_to_table', BoolType(), p0=Agent, p1=Block, p2=Pos, p3=Pos, p4=Pos, p5=Pos)
moving_onblock_to_block = Fluent('moving_onblock_to_block', BoolType(), p0=Agent, p1=Block, p2=Block, p3=Pos, p4=Pos, p5=Pos, p6=Pos)
moving_table_to_block = Fluent('moving_table_to_block', BoolType(), p0=Agent, p1=Block, p2=Block, p3=Pos, p4=Pos, p5=Pos, p6=Pos)
available = Fluent('available', BoolType(), p0=Agent)
clear = Fluent('clear', BoolType(), p0=Block)
ontable = Fluent('ontable', BoolType(), p0=Block)

problem = Problem('from_prolog')
problem.add_fluent(on, default_initial_value=False)
problem.add_fluent(at, default_initial_value=False)
problem.add_fluent(moving_onblock_to_table, default_initial_value=False)
problem.add_fluent(moving_table_to_table, default_initial_value=False)
problem.add_fluent(moving_onblock_to_block, default_initial_value=False)
problem.add_fluent(moving_table_to_block, default_initial_value=False)
problem.add_fluent(available, default_initial_value=False)
problem.add_fluent(clear, default_initial_value=False)
problem.add_fluent(ontable, default_initial_value=False)

b1 = Object('b1', Block)
b2 = Object('b2', Block)
b3 = Object('b3', Block)
b4 = Object('b4', Block)
b5 = Object('b5', Block)
b6 = Object('b6', Block)
a1 = Object('a1', Agent)
a2 = Object('a2', Agent)
x1 = Object('x1', Pos)
x10 = Object('x10', Pos)
x2 = Object('x2', Pos)
x3 = Object('x3', Pos)
problem.add_objects([
    b1,
    b2,
    b3,
    b4,
    b5,
    b6,
    a1,
    a2,
    x1,
    x10,
    x2,
    x3,
])

problem.set_initial_value(ontable(b1), True)
problem.set_initial_value(ontable(b2), True)
problem.set_initial_value(ontable(b3), True)
problem.set_initial_value(on(b4, b1), True)
problem.set_initial_value(on(b5, b2), True)
problem.set_initial_value(on(b6, b3), True)
problem.set_initial_value(at(b1, x1, x1), True)
problem.set_initial_value(at(b2, x2, x2), True)
problem.set_initial_value(at(b3, x3, x3), True)
problem.set_initial_value(at(b4, x1, x1), True)
problem.set_initial_value(at(b5, x2, x2), True)
problem.set_initial_value(at(b6, x3, x3), True)
problem.set_initial_value(clear(b4), True)
problem.set_initial_value(clear(b5), True)
problem.set_initial_value(clear(b6), True)
problem.set_initial_value(available(a1), True)
problem.set_initial_value(available(a2), True)

problem.add_goal(ontable(b1))
problem.add_goal(ontable(b2))
problem.add_goal(ontable(b3))
problem.add_goal(ontable(b4))
problem.add_goal(on(b5, b4))
problem.add_goal(on(b6, b3))
problem.add_goal(at(b1, x1, x1))
problem.add_goal(at(b2, x2, x2))
problem.add_goal(at(b3, x3, x3))
problem.add_goal(at(b4, x10, x10))
problem.add_goal(at(b5, x10, x10))
problem.add_goal(at(b6, x3, x3))
problem.add_goal(clear(b1))
problem.add_goal(clear(b2))
problem.add_goal(clear(b5))
problem.add_goal(clear(b6))
problem.add_goal(available(a1))
problem.add_goal(available(a2))

# --- action move_table_to_table_start
move_table_to_table_start = InstantaneousAction('move_table_to_table_start', Param1=Agent, Param2=Block, Param3=Pos, Param4=Pos, Param5=Pos, Param6=Pos)
Param1 = move_table_to_table_start.parameter('Param1')
Param2 = move_table_to_table_start.parameter('Param2')
Param3 = move_table_to_table_start.parameter('Param3')
Param4 = move_table_to_table_start.parameter('Param4')
Param5 = move_table_to_table_start.parameter('Param5')
Param6 = move_table_to_table_start.parameter('Param6')
move_table_to_table_start.add_precondition(ontable(Param2))
move_table_to_table_start.add_precondition(at(Param2, Param3, Param4))
move_table_to_table_start.add_precondition(available(Param1))
move_table_to_table_start.add_precondition(clear(Param2))
any_move_table_to_table_start_0 = Variable('any_move_table_to_table_start_0', Block)
move_table_to_table_start.add_precondition(Not(Exists(at(any_move_table_to_table_start_0, Param5, Param6), any_move_table_to_table_start_0)))
any_move_table_to_table_start_1 = Variable('any_move_table_to_table_start_1', Block)
move_table_to_table_start.add_precondition(Not(Exists(on(Param2, any_move_table_to_table_start_1), any_move_table_to_table_start_1)))
any_move_table_to_table_start_0 = Variable('any_move_table_to_table_start_0', Agent)
any_move_table_to_table_start_2 = Variable('any_move_table_to_table_start_2', Pos)
any_move_table_to_table_start_3 = Variable('any_move_table_to_table_start_3', Pos)
any_move_table_to_table_start_4 = Variable('any_move_table_to_table_start_4', Pos)
any_move_table_to_table_start_5 = Variable('any_move_table_to_table_start_5', Pos)
move_table_to_table_start.add_precondition(Not(Exists(moving_table_to_table(any_move_table_to_table_start_0, Param2, any_move_table_to_table_start_2, any_move_table_to_table_start_3, any_move_table_to_table_start_4, any_move_table_to_table_start_5), any_move_table_to_table_start_0, any_move_table_to_table_start_2, any_move_table_to_table_start_3, any_move_table_to_table_start_4, any_move_table_to_table_start_5)))
any_move_table_to_table_start_0 = Variable('any_move_table_to_table_start_0', Agent)
any_move_table_to_table_start_2 = Variable('any_move_table_to_table_start_2', Block)
any_move_table_to_table_start_3 = Variable('any_move_table_to_table_start_3', Pos)
any_move_table_to_table_start_4 = Variable('any_move_table_to_table_start_4', Pos)
any_move_table_to_table_start_5 = Variable('any_move_table_to_table_start_5', Pos)
any_move_table_to_table_start_6 = Variable('any_move_table_to_table_start_6', Pos)
move_table_to_table_start.add_precondition(Not(Exists(moving_table_to_block(any_move_table_to_table_start_0, Param2, any_move_table_to_table_start_2, any_move_table_to_table_start_3, any_move_table_to_table_start_4, any_move_table_to_table_start_5, any_move_table_to_table_start_6), any_move_table_to_table_start_0, any_move_table_to_table_start_2, any_move_table_to_table_start_3, any_move_table_to_table_start_4, any_move_table_to_table_start_5, any_move_table_to_table_start_6)))
move_table_to_table_start.add_effect(available(Param1), False)
move_table_to_table_start.add_effect(clear(Param2), False)
move_table_to_table_start.add_effect(ontable(Param2), False)
move_table_to_table_start.add_effect(at(Param2, Param3, Param4), False)
move_table_to_table_start.add_effect(moving_table_to_table(Param1, Param2, Param3, Param4, Param5, Param6), True)
problem.add_action(move_table_to_table_start)

# --- action move_table_to_table_end
move_table_to_table_end = InstantaneousAction('move_table_to_table_end', Param1=Agent, Param2=Block, Param3=Pos, Param4=Pos, Param5=Pos, Param6=Pos)
Param1 = move_table_to_table_end.parameter('Param1')
Param2 = move_table_to_table_end.parameter('Param2')
Param3 = move_table_to_table_end.parameter('Param3')
Param4 = move_table_to_table_end.parameter('Param4')
Param5 = move_table_to_table_end.parameter('Param5')
Param6 = move_table_to_table_end.parameter('Param6')
move_table_to_table_end.add_precondition(moving_table_to_table(Param1, Param2, Param3, Param4, Param5, Param6))
any_move_table_to_table_end_0 = Variable('any_move_table_to_table_end_0', Block)
move_table_to_table_end.add_precondition(Not(Exists(at(any_move_table_to_table_end_0, Param5, Param6), any_move_table_to_table_end_0)))
move_table_to_table_end.add_effect(moving_table_to_table(Param1, Param2, Param3, Param4, Param5, Param6), False)
move_table_to_table_end.add_effect(ontable(Param2), True)
move_table_to_table_end.add_effect(at(Param2, Param5, Param6), True)
move_table_to_table_end.add_effect(clear(Param2), True)
move_table_to_table_end.add_effect(available(Param1), True)
problem.add_action(move_table_to_table_end)

# --- action move_table_to_block_start
move_table_to_block_start = InstantaneousAction('move_table_to_block_start', Param1=Agent, Param2=Block, Param3=Block, Param4=Pos, Param5=Pos, Param6=Pos, Param7=Pos)
Param1 = move_table_to_block_start.parameter('Param1')
Param2 = move_table_to_block_start.parameter('Param2')
Param3 = move_table_to_block_start.parameter('Param3')
Param4 = move_table_to_block_start.parameter('Param4')
Param5 = move_table_to_block_start.parameter('Param5')
Param6 = move_table_to_block_start.parameter('Param6')
Param7 = move_table_to_block_start.parameter('Param7')
move_table_to_block_start.add_precondition(available(Param1))
move_table_to_block_start.add_precondition(ontable(Param2))
move_table_to_block_start.add_precondition(at(Param2, Param4, Param5))
move_table_to_block_start.add_precondition(at(Param3, Param6, Param7))
move_table_to_block_start.add_precondition(clear(Param3))
move_table_to_block_start.add_precondition(clear(Param2))
any_move_table_to_block_start_0 = Variable('any_move_table_to_block_start_0', Block)
move_table_to_block_start.add_precondition(Not(Exists(on(any_move_table_to_block_start_0, Param2), any_move_table_to_block_start_0)))
any_move_table_to_block_start_1 = Variable('any_move_table_to_block_start_1', Block)
move_table_to_block_start.add_precondition(Not(Exists(on(Param2, any_move_table_to_block_start_1), any_move_table_to_block_start_1)))
any_move_table_to_block_start_0 = Variable('any_move_table_to_block_start_0', Agent)
any_move_table_to_block_start_2 = Variable('any_move_table_to_block_start_2', Pos)
any_move_table_to_block_start_3 = Variable('any_move_table_to_block_start_3', Pos)
any_move_table_to_block_start_4 = Variable('any_move_table_to_block_start_4', Pos)
any_move_table_to_block_start_5 = Variable('any_move_table_to_block_start_5', Pos)
move_table_to_block_start.add_precondition(Not(Exists(moving_table_to_table(any_move_table_to_block_start_0, Param2, any_move_table_to_block_start_2, any_move_table_to_block_start_3, any_move_table_to_block_start_4, any_move_table_to_block_start_5), any_move_table_to_block_start_0, any_move_table_to_block_start_2, any_move_table_to_block_start_3, any_move_table_to_block_start_4, any_move_table_to_block_start_5)))
any_move_table_to_block_start_0 = Variable('any_move_table_to_block_start_0', Agent)
any_move_table_to_block_start_2 = Variable('any_move_table_to_block_start_2', Block)
any_move_table_to_block_start_3 = Variable('any_move_table_to_block_start_3', Pos)
any_move_table_to_block_start_4 = Variable('any_move_table_to_block_start_4', Pos)
any_move_table_to_block_start_5 = Variable('any_move_table_to_block_start_5', Pos)
any_move_table_to_block_start_6 = Variable('any_move_table_to_block_start_6', Pos)
move_table_to_block_start.add_precondition(Not(Exists(moving_table_to_block(any_move_table_to_block_start_0, Param2, any_move_table_to_block_start_2, any_move_table_to_block_start_3, any_move_table_to_block_start_4, any_move_table_to_block_start_5, any_move_table_to_block_start_6), any_move_table_to_block_start_0, any_move_table_to_block_start_2, any_move_table_to_block_start_3, any_move_table_to_block_start_4, any_move_table_to_block_start_5, any_move_table_to_block_start_6)))
move_table_to_block_start.add_effect(available(Param1), False)
move_table_to_block_start.add_effect(clear(Param2), False)
move_table_to_block_start.add_effect(ontable(Param2), False)
move_table_to_block_start.add_effect(at(Param2, Param4, Param5), False)
move_table_to_block_start.add_effect(moving_table_to_block(Param1, Param2, Param3, Param4, Param5, Param6, Param7), True)
problem.add_action(move_table_to_block_start)

# --- action move_table_to_block_end
move_table_to_block_end = InstantaneousAction('move_table_to_block_end', Param1=Agent, Param2=Block, Param3=Block, Param4=Pos, Param5=Pos, Param6=Pos, Param7=Pos)
Param1 = move_table_to_block_end.parameter('Param1')
Param2 = move_table_to_block_end.parameter('Param2')
Param3 = move_table_to_block_end.parameter('Param3')
Param4 = move_table_to_block_end.parameter('Param4')
Param5 = move_table_to_block_end.parameter('Param5')
Param6 = move_table_to_block_end.parameter('Param6')
Param7 = move_table_to_block_end.parameter('Param7')
move_table_to_block_end.add_precondition(moving_table_to_block(Param1, Param2, Param3, Param4, Param5, Param6, Param7))
move_table_to_block_end.add_precondition(clear(Param3))
move_table_to_block_end.add_effect(clear(Param3), False)
move_table_to_block_end.add_effect(moving_table_to_block(Param1, Param2, Param3, Param4, Param5, Param6, Param7), False)
move_table_to_block_end.add_effect(on(Param2, Param3), True)
move_table_to_block_end.add_effect(at(Param2, Param6, Param7), True)
move_table_to_block_end.add_effect(clear(Param2), True)
move_table_to_block_end.add_effect(available(Param1), True)
problem.add_action(move_table_to_block_end)

# --- action move_onblock_to_table_start
move_onblock_to_table_start = InstantaneousAction('move_onblock_to_table_start', Param1=Agent, Param2=Block, Param3=Pos, Param4=Pos, Param5=Pos, Param6=Pos)
Param1 = move_onblock_to_table_start.parameter('Param1')
Param2 = move_onblock_to_table_start.parameter('Param2')
Param3 = move_onblock_to_table_start.parameter('Param3')
Param4 = move_onblock_to_table_start.parameter('Param4')
Param5 = move_onblock_to_table_start.parameter('Param5')
Param6 = move_onblock_to_table_start.parameter('Param6')
move_onblock_to_table_start.add_precondition(available(Param1))
move_onblock_to_table_start.add_precondition(on(Param2, _1212))
move_onblock_to_table_start.add_precondition(at(Param2, Param3, Param4))
move_onblock_to_table_start.add_precondition(at(_1212, Param3, Param4))
move_onblock_to_table_start.add_precondition(clear(Param2))
any_move_onblock_to_table_start_0 = Variable('any_move_onblock_to_table_start_0', Agent)
any_move_onblock_to_table_start_2 = Variable('any_move_onblock_to_table_start_2', Pos)
any_move_onblock_to_table_start_3 = Variable('any_move_onblock_to_table_start_3', Pos)
any_move_onblock_to_table_start_4 = Variable('any_move_onblock_to_table_start_4', Pos)
any_move_onblock_to_table_start_5 = Variable('any_move_onblock_to_table_start_5', Pos)
move_onblock_to_table_start.add_precondition(Not(Exists(moving_onblock_to_table(any_move_onblock_to_table_start_0, Param2, any_move_onblock_to_table_start_2, any_move_onblock_to_table_start_3, any_move_onblock_to_table_start_4, any_move_onblock_to_table_start_5), any_move_onblock_to_table_start_0, any_move_onblock_to_table_start_2, any_move_onblock_to_table_start_3, any_move_onblock_to_table_start_4, any_move_onblock_to_table_start_5)))
any_move_onblock_to_table_start_0 = Variable('any_move_onblock_to_table_start_0', Block)
move_onblock_to_table_start.add_precondition(Not(Exists(on(any_move_onblock_to_table_start_0, Param2), any_move_onblock_to_table_start_0)))
move_onblock_to_table_start.add_precondition(Not(ontable(Param2)))
any_move_onblock_to_table_start_0 = Variable('any_move_onblock_to_table_start_0', Block)
move_onblock_to_table_start.add_precondition(Not(Exists(at(any_move_onblock_to_table_start_0, Param5, Param6), any_move_onblock_to_table_start_0)))
move_onblock_to_table_start.add_effect(available(Param1), False)
move_onblock_to_table_start.add_effect(clear(Param2), False)
move_onblock_to_table_start.add_effect(on(Param2, _1212), False)
move_onblock_to_table_start.add_effect(at(Param2, Param3, Param4), False)
move_onblock_to_table_start.add_effect(moving_onblock_to_table(Param1, Param2, Param3, Param4, Param5, Param6), True)
move_onblock_to_table_start.add_effect(clear(_1212), True)
problem.add_action(move_onblock_to_table_start)

# --- action move_onblock_to_table_end
move_onblock_to_table_end = InstantaneousAction('move_onblock_to_table_end', Param1=Agent, Param2=Block, Param3=Pos, Param4=Pos, Param5=Pos, Param6=Pos)
Param1 = move_onblock_to_table_end.parameter('Param1')
Param2 = move_onblock_to_table_end.parameter('Param2')
Param3 = move_onblock_to_table_end.parameter('Param3')
Param4 = move_onblock_to_table_end.parameter('Param4')
Param5 = move_onblock_to_table_end.parameter('Param5')
Param6 = move_onblock_to_table_end.parameter('Param6')
move_onblock_to_table_end.add_precondition(moving_onblock_to_table(Param1, Param2, Param3, Param4, Param5, Param6))
any_move_onblock_to_table_end_0 = Variable('any_move_onblock_to_table_end_0', Block)
move_onblock_to_table_end.add_precondition(Not(Exists(at(any_move_onblock_to_table_end_0, Param5, Param6), any_move_onblock_to_table_end_0)))
move_onblock_to_table_end.add_effect(moving_onblock_to_table(Param1, Param2, Param3, Param4, Param5, Param6), False)
move_onblock_to_table_end.add_effect(ontable(Param2), True)
move_onblock_to_table_end.add_effect(at(Param2, Param5, Param6), True)
move_onblock_to_table_end.add_effect(clear(Param2), True)
move_onblock_to_table_end.add_effect(available(Param1), True)
problem.add_action(move_onblock_to_table_end)

# --- action move_onblock_to_block_start
move_onblock_to_block_start = InstantaneousAction('move_onblock_to_block_start', Param1=Agent, Param2=Block, Param3=Block, Param4=Pos, Param5=Pos, Param6=Pos, Param7=Pos)
Param1 = move_onblock_to_block_start.parameter('Param1')
Param2 = move_onblock_to_block_start.parameter('Param2')
Param3 = move_onblock_to_block_start.parameter('Param3')
Param4 = move_onblock_to_block_start.parameter('Param4')
Param5 = move_onblock_to_block_start.parameter('Param5')
Param6 = move_onblock_to_block_start.parameter('Param6')
Param7 = move_onblock_to_block_start.parameter('Param7')
move_onblock_to_block_start.add_precondition(available(Param1))
move_onblock_to_block_start.add_precondition(on(Param2, Param3))
move_onblock_to_block_start.add_precondition(at(Param2, Param4, Param5))
move_onblock_to_block_start.add_precondition(at(Param3, Param6, Param7))
move_onblock_to_block_start.add_precondition(clear(Param3))
move_onblock_to_block_start.add_precondition(clear(Param2))
any_move_onblock_to_block_start_0 = Variable('any_move_onblock_to_block_start_0', Agent)
any_move_onblock_to_block_start_2 = Variable('any_move_onblock_to_block_start_2', Block)
any_move_onblock_to_block_start_3 = Variable('any_move_onblock_to_block_start_3', Pos)
any_move_onblock_to_block_start_4 = Variable('any_move_onblock_to_block_start_4', Pos)
any_move_onblock_to_block_start_5 = Variable('any_move_onblock_to_block_start_5', Pos)
any_move_onblock_to_block_start_6 = Variable('any_move_onblock_to_block_start_6', Pos)
move_onblock_to_block_start.add_precondition(Not(Exists(moving_onblock_to_block(any_move_onblock_to_block_start_0, Param2, any_move_onblock_to_block_start_2, any_move_onblock_to_block_start_3, any_move_onblock_to_block_start_4, any_move_onblock_to_block_start_5, any_move_onblock_to_block_start_6), any_move_onblock_to_block_start_0, any_move_onblock_to_block_start_2, any_move_onblock_to_block_start_3, any_move_onblock_to_block_start_4, any_move_onblock_to_block_start_5, any_move_onblock_to_block_start_6)))
any_move_onblock_to_block_start_0 = Variable('any_move_onblock_to_block_start_0', Block)
move_onblock_to_block_start.add_precondition(Not(Exists(on(any_move_onblock_to_block_start_0, Param2), any_move_onblock_to_block_start_0)))
move_onblock_to_block_start.add_precondition(Not(ontable(Param2)))
move_onblock_to_block_start.add_effect(available(Param1), False)
move_onblock_to_block_start.add_effect(clear(Param2), False)
move_onblock_to_block_start.add_effect(on(Param2, Param3), False)
move_onblock_to_block_start.add_effect(at(Param2, Param4, Param5), False)
move_onblock_to_block_start.add_effect(moving_onblock_to_block(Param1, Param2, Param3, Param4, Param5, Param6, Param7), True)
move_onblock_to_block_start.add_effect(clear(Param3), True)
problem.add_action(move_onblock_to_block_start)

# --- action move_onblock_to_block_end
move_onblock_to_block_end = InstantaneousAction('move_onblock_to_block_end', Param1=Agent, Param2=Block, Param3=Block, Param4=Pos, Param5=Pos, Param6=Pos, Param7=Pos)
Param1 = move_onblock_to_block_end.parameter('Param1')
Param2 = move_onblock_to_block_end.parameter('Param2')
Param3 = move_onblock_to_block_end.parameter('Param3')
Param4 = move_onblock_to_block_end.parameter('Param4')
Param5 = move_onblock_to_block_end.parameter('Param5')
Param6 = move_onblock_to_block_end.parameter('Param6')
Param7 = move_onblock_to_block_end.parameter('Param7')
move_onblock_to_block_end.add_precondition(moving_onblock_to_block(Param1, Param2, Param3, Param4, Param5, Param6, Param7))
move_onblock_to_block_end.add_precondition(clear(Param3))
move_onblock_to_block_end.add_effect(clear(Param3), False)
move_onblock_to_block_end.add_effect(moving_onblock_to_block(Param1, Param2, Param3, Param4, Param5, Param6, Param7), False)
move_onblock_to_block_end.add_effect(on(Param2, Param3), True)
move_onblock_to_block_end.add_effect(at(Param2, Param6, Param7), True)
move_onblock_to_block_end.add_effect(clear(Param2), True)
move_onblock_to_block_end.add_effect(available(Param1), True)
problem.add_action(move_onblock_to_block_end)

writer = PDDLWriter(problem)
writer.write_domain('generated_domain.pddl')
writer.write_problem('generated_problem.pddl')
print('Generated PDDL files in current directory')